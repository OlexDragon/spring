<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	lang="en">
<head>
<meta charset="UTF-8" />
<title th:text="${title==null ? 'FashionProFinder' : title + ':FashionProFinder'}">FashionProFinder</title>
<th:block th:fragment="headContent">
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
<link rel="stylesheet" href="../static/css/fpf.css" th:href="@{/css/fpf.css}" />
<link rel="stylesheet" href="../static/css/forms.css"  th:href="@{/css/forms.css}" th:if="${forms==true}"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</th:block>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60869220-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<!--
comments: 
IE11
-->
<body
	th:style="'background:url(\''+@{https://fbcdn-sphotos-c-a.akamaihd.net/hphotos-ak-xtp1/v/t1.0-9/s720x720/11110884_514588745348719_1960553605335542264_n.jpg(oh=f7a406a436b1fdcf015adf091d966c48,oe=55E33AF9,\_\_gda\_\_=1437460846_4efa191621d921e751a46f47f9f537be)}+'\') no-repeat center center fixed;
	-webkit-background-size: cover;
	-moz-background-size: cover;
	-o-background-size: cover;
	background-size: cover;'">
<th:block th:fragment="footer">
<div id="aboutModal" class="modal fade" th:fragment="about">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h4 class="modal-title">About Us</h4>
      </div>
      <div class="modal-body">
        <p>Fashion Pro Finder is a new research web site specifically oriented towards fashion, cinema, show-business and all that is related with those three categories.</p>
        <p>For example, you want to find a specific job and your region extends all over Canada, there are numerous sites that will offer jobs in that region because it is wide. Fashion Pro Finder will find all the jobs offered in all the Canadian web sites and list the links for you. ONE SITE AND YOU HAVE THEM ALL. </p>
		<p>Fashion Pro Finder is design to be USER FRIENDLY. The user can find the information he is looking for simply by clicking on a Keyword &amp; a Location (if more than one) and then press search. He can also use the alphabet list (select the desired categories from A-Z or All). And he will refine his search by using the advance mode (to be more specific)</p>
		<p>For help or any question, you can always contact us at any time 7/24 and we will reply and assist you within very short delays.</p>
		<hr/>
		<p><a href="">Contact Us</a></p>
		<p>For any questions please <a href="/contact_us">contact us</a>
		</p>
      </div>
    </div><!--/* /.modal-content */-->
  </div><!--/* /.modal-dialog */-->
</div><!--/* /.modal

	Footer

 */--><nav class="navbar navbar-default navbar-fixed-bottom navbar-inverse">
 	<div class="container-fluid"><!--/*

	Fashion PRO Finder

*/--><div class="navbar-header">
 		<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
 			<span class="sr-only">Toggle navigation</span>
 			<span class="icon-bar"></span>
 			<span class="icon-bar"></span>
 			<span class="icon-bar"></span>
 		</button>
 		<a href="/" class="navbar-brand">Fashion PRO Finder®</a>
 	</div><!--/*

	Menu Items

*/--><div id="navbar" class="navbar-collapse collapse" aria-expanded="false">
 		<ul class="nav navbar-nav navbar-right">
 			<li><a href="#" data-toggle="modal" data-target="#aboutModal">About us</a></li>
 			<li th:classappend="${menuSelection==null ? 'active' : null}"><a href="/">Search</a></li>
 			<li class="dropup" sec:authorize="hasAuthority('MANAGER')" th:classappend="${managementMenu!=null ? 'active' : null}">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Management<span class="caret"></span></a>
					<ul class="dropdown-menu navbar-inverse" role="menu" aria-labelledby="managementMenu">
						<li role="presentation" th:classappend="${categoriesMenu!=null ? 'active' : null}"><a role="menuitem" tabindex="-1" href="/management/search/categories">Edit Search Categories</a></li>
						<li role="presentation" th:classappend="${usersMenu!=null ? 'active' : null}"><a role="menuitem" tabindex="-1" href="/management/users">Users</a></li>
						<li role="presentation" th:classappend="${statisticMenu!=null ? 'active' : null}"><a role="menuitem" tabindex="-1" href="/management/statistic">Statistic</a></li>
					</ul>
			</li>
			<li th:class="${menuSelection==T(jk.web.controllers.user.FormsController.MenuSelection).CONTACT_US ? 'active' : null}"><a href="/contact_us">Contact Us</a></li>
		</ul>
	</div>
	</div>
	</nav>
</th:block><!--/*

	---  Content ---

*/--><div class="container-fluid" th:classappend="${result==true ? 'result' : null}">
<div class="row top-buffer">
<div id="main" class="col-sm-8 col-sm-offset-1">
	<h1 id="brand" class="brand">FashionProFinder</h1><!--/*


		Search form

*/--><form id="searchForm" action="#" class="form-inline">
		<div class="form-group">
			<label for="keywords" class="sr-only">Keywords</label><input type="text" id="keywords" class="form-control" placeholder="Keywords..." required="required"/>
			<label for="location" class="sr-only">Location</label><input type="text" id="location" class="form-control" placeholder="Location..." />
			<button type="submit" class="btn btn-default glyphicon glyphicon-search"></button>
		</div>
	</form>
	<div id="abc" class="bg-abc mt8 cw">
				<span>Search by alphabet: </span><a href="#">ALL</a>
				<a th:each="ch : ${#strings.arraySplit('A B C D E F G H I J K L M N O P Q R S T U V W X Y Z',' ')}"
					href="#"
					th:class="${ #lists.contains(letters, ch ) ? null : 'empty' }"
					th:text="${ ch }">a</a>
	</div><!--/*  

	Categories

*/--><div id="categories" class="navbar" th:remove="body">
<th:block th:fragment="categories">
<div class="navbar-header">
 <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#categoriesList">
 		<span class="sr-only">Toggle categories</span>
 		<span class="icon-bar"></span>
 		<span class="icon-bar"></span>
 		<span class="icon-bar"></span>
 </button>
	<h4 th:text="${startWith}">ALL</h4>
</div><!--/*

				 start Categories

	  				*/--><div id="categoriesList" class="navbar-collapse collapse" aria-expanded="false">
	  						<ul class="c3" th:remove="all-but-first">
								<li th:each="cat:${categories}"><a href="#" th:text="${cat.categoryName}">Acrobats</a></li>
								<li><a href="#">Actors(stagecombat)</a></li>
								<li><a href="#">Animation</a></li>
								<li><a href="#">Artisticgymnasts</a></li>
								<li><a href="#">Choreographers</a></li>
								<li><a href="#">Clowns</a></li>
								<li><a href="#">Comedians (Public, Television, Film)</a></li>
								<li><a href="#">Composers</a></li>
								<li><a href="#">Contortionists</a></li>
								<li><a href="#">Dancers</a></li>
								<li><a href="#">Decorators</a></li>
								<li><a href="#">Fashion</a></li>
								<li><a href="#">Figuration(public)</a></li>
								<li><a href="#">Filmmakers</a></li>
								<li><a href="#">Fire-eaters</a></li>
								<li><a href="#">Funambulists</a></li>
								<li><a href="#">Improvisation</a></li>
								<li><a href="#">Jugglers</a></li>
								<li><a href="#">Liner (Light, photo)</a></li>
								<li><a href="#">Lyricalsinging(opera)</a></li>
								<li><a href="#">Magicians</a></li>
								<li><a href="#">Makeup</a></li>
								<li><a href="#">Mimes</a></li>
								<li><a href="#">ModelsPhotoMusicians</a></li>
								<li><a href="#">MotionSensors</a></li>
								<li><a href="#">MusicalInterpreters</a></li>
								<li><a href="#">Narrators(voiceover)</a></li>
								<li><a href="#">Puppeteers</a></li>
								<li><a href="#">ResponsibleforStaging</a></li>
								<li><a href="#">Stuntmen</a></li>
								<li><a href="#">Waders</a></li>
							</ul>
						</div><!--/*

	finish Categories


*/--></th:block></div><!--/*


	Result

*/--><div id="result">
	</div>				
</div><!--/*


		enf of the first column



 */-->
<div class="col-sm-3">
</div>
</div>
</div><!--/*		----	End of the body	----



	----	FRAFMENTS	----

*/--><th:block th:remove="all">


<div th:switch="${results.get('type')}" th:fragment="result"><!--/*


	JOBS

*/--><div th:case="JOBS" class="panel panel-default" th:with="jobs=${results.get('jobs')}, pages=${results.pages}">
		<div class="panel-heading">
    		<h3 class="panel-title" th:inline="text">
    			<small>Searching for:</small>
				[[${keywords}]]
    			<small th:text="${'( '+results.hits+' result'+(results.hits!=1 ? 's' : '')+'; '+
    								pages+' page'+(pages!=1 ? 's' : '')+' )'}">
    			</small>
    		</h3>
		</div>
		<div class="panel-body">
			<nav th:if="${pages!=null and pages>1}" th:fragment="pagination">
				<ul id="pagination" class="pagination" th:with="activeDozen=${page!=null ? page/10 : 0}">
					<li th:if="${pages>10}" class="prev" th:classappend="${activeDozen==0 ? 'disabled' : null}">
						<a href="#" aria-label="Previous">
							<span aria-hidden="true">&laquo;</span>
						</a>
					</li>
					<li th:each="num:${#numbers.sequence(0,pages-1)}"
								th:class="${num==page ? 'active' : null}"
								th:with="dozen=${num/10}"
								th:classappend="${'dozen'+dozen+(dozen!=activeDozen ? ' dNone' : '')}">
						<a href="#" th:href="${num}" th:text="${num+1}">1</a>
					</li>
					<li th:if="${pages>10}" class="nex">
						<a href="#" aria-label="Next">
							<span aria-hidden="true">&raquo;</span>
						</a>
					</li>
				</ul>
			</nav>
			<dl th:each="job:${jobs}">
				<dt><a th:href="job.url" th:text="${job.company!=null ? job.company : 'Go to site'}">Company Name</a></dt>
				<dt th:if="${job['title']!=null}">Title:</dt>
				<dd th:if="${job['title']!=null}" th:text="${job.title}"></dd>

				<dt th:if="${job['salary']!=null}">Salary:</dt>
				<dd th:if="${job['salary']!=null}" th:text="${job.salary}"></dd>

				<dt th:if="${job['salary_currency_code']!=null}">Salary currency code:</dt>
				<dd th:if="${job['salary_currency_code']!=null}" th:text="${job.salary_currency_code}"></dd>

				<dt th:if="${job['locations']!=null}">Locations:</dt>
				<dd th:if="${job['locations']!=null}" th:text="${job.locations}"></dd>

				<dt th:if="${job['description']!=null}">Description:</dt>
				<dd th:if="${job['description']!=null}" th:utext="${job.description}"></dd>

				<dt th:if="${job['site']!=null}">Site:</dt>
				<dd th:if="${job['site']!=null}"><a th:href="@{${job.site}}" th:text="${job.site}"></a></dd>
			</dl>
			<div th:replace=":: pagination"></div>
		</div>
	</div><!--/*


	LOCATIONS

*/--><div id="locations" th:case="LOCATIONS">
		<p >Locations</p>
			<ul id="solveLocations" class="c3">
				<li><a href="#">Montreal, QC</a></li>
				<li><a href="#">Laval, QC</a></li>
				<li><a href="#">Toronto, ON</a></li>
				<li><a href="#">North York, ON</a></li>
			</ul><!--/*

	finish Location

*/--></div><!--/*


	ERROR

*/--><div th:case="ERROR">
	</div><!--/*


	DEFAULT

*/--><div th:case="*">
	</div>
<script type="text/javascript" th:inline="javascript">/*<![CDATA[*//*[-*/

							//********     Page Select OnClick funktion       ********

							/*-]*/
										$('.pages a').on('click', function(e) {
										e.preventDefault();
										var attr = $(this).attr('aria-label');
										if(attr){
											if(!$(this).parent().hasClass('disabled')){
												$('.'+className+activeDozen).addClass('dNone');
												if(attr=='Previous'){
													activeDozen--;
												}else{
													activeDozen++;
												}
												$('.'+className+activeDozen).removeClass('dNone');
												if(activeDozen == 1){
													$('.prev').addClass('disabled');
												}else{
													$('.prev').removeClass('disabled');
												}
												if(pages && activeDozen >= Math.ceil(pages/10)){
													$('.nxt').addClass('dNone');
												}else{
													$('.nxt').removeClass('dNone');
												}
											}
										}else{
											page = this.text;
											$('#searchForm').submit();
										}
									});
		/*]]>*/
		</script>
	</div>
</th:block>
</body>
<script type="text/javascript" th:inline="javascript">/*<![CDATA[*//*[-*/

       //Function for <div id="abc">...</div>

/*-]*/$('#abc a').on('click',
			function(e) {
				e.preventDefault();
				if($(this).hasClass('empty')){
					return false;
				}
				setBgColor();
				$('#categories').empty();
				if($(this).hasClass('active')){
					$(this).removeAttr('class');
					$('#categories').removeClass('navbar-default')
					return false;
				}
				$('#abc .active').removeAttr('class');
				$(this).addClass('active');
				$('#categories').load('/search/categories/' + this.text);
		});/*[-

		//On Search Submit

-]*/$('#searchForm').on('submit',
		function(e){
				e.preventDefault();
   				var keywords = trim($('#keywords').val());
				if(!keywords)
					return false;
				setBgColor();
				$('#categories').empty();
				$('#result').empty();
				var data = {};
				data['keywords'] = keywords;
				var location = trim($('#location').val());
				if(location)
					data['location'] = location;
				$('#result').empty();
				$('#result').load('/careerjet', data);
		});

var activeDozen;
function jobsPages(pages) {

	var li;
	if (pages && pages > 1) {
		var p = $('<ul></ul>')
				.insertAfter($('#count'))
				.addClass('pages list-inline pagination')
				.append(/*[-

			              Preview button

-]*/				$('<li></li>')
						.addClass('prev')
						.append(
								$('<a></a>')
								.attr('href', '#')
								.attr('aria-label', 'Previous')
								.append(
										$('<span></span>')
										.attr('aria-hidden', 'true')
										.text('«')
								)
						)
				);/*[-

	              pages creation

-]*/
		for (var i = 1; i <= pages; i++) {
			var cn = className + Math.ceil(i/10);
			li = $('<li></li>')
			.appendTo(p)
			.append(
					$('<a></a>').attr('href', '#').text(i)
					).addClass(cn+' dNone');/*[-

            set active pages

-]*/	if ((page && page == i) || (!page && i == 1)) {
				li.addClass("active");
				activeDozen = Math.ceil(i/10);
			}
		}/*[-
					    
					    Next Button
					    
-]*/	li = $('<li></li>')
			.addClass('nxt')
			.appendTo(p)
			.append(
					$('<a></a>')
					.attr('href', '#')
					.attr('aria-label', 'Next')
					.append(
							$('<span></span>')
							.attr('aria-hidden', 'true')
							.text('»')
					)
			);/*[-

					Disable next if first dozen

-]*/	if(pages && activeDozen == Math.ceil(pages/10)){
			$('.nxt').addClass('dNone');
		}/*[-

		              Disable preview if first dozen

-]*/	if(activeDozen == 1){
			$('.prev').addClass('disabled');
		}/*[-

					Show 10 buttons

-]*/	$('.' + className + activeDozen).removeClass('dNone');
			page = undefined;
	}
}
			function jobsResults(jobs) {
				if (jobs) {
					var length = jobs.length;
					if (length > 0) {
						var list = $('<ul></ul>').attr('id', 'jobs').appendTo('#result');
						$.each(	jobs,
								function(index, value) {
										var ul = $('<ul></ul>')
										$('<li></li>')
											.appendTo(list)
											.append(ul);
										$('<li></li>')
											.appendTo(ul)
											.append(
												$('<a></a>')
													.attr('href', value.url).text(value.company ? value.company : 'Go to site')
													.attr('target', 'blank')
											);

										if (value.title) {
											$('<li></li>')
												.appendTo(ul)
												.append('<span>Title: </span>' + value.title);
										}
										if (value.salary) {
											$('<li></li>')
												.appendTo(ul)
												.append('<span>Salary: </span>' + value.salary);
										}
										if (value.salary_currency_code) {
											$('<li></li>')
												.appendTo(ul)
												.append('<span>Salary currency code: </span>' + value.salary_currency_code);
										}
										if (value.locations) {
											$('<li></li>')
												.appendTo(ul)
												.append('<span>Locations: </span>' + value.locations);
										}
										if (value.description) {
											$('<li></li>')
												.appendTo(ul)
												.append('<span>Description: </span>' + value.description);
										}
										var site = value.site;
										if (site) {
											if (site.substr(0, 3) != 'http') {
												site = 'http://' + site;
											}
											$('<li></li>')
												.appendTo(ul)
												.append('<span>Site: </span><a href="'+site+'" target="_blank">'
																	+ value.site
																	+ '</a>');
								}
						});/*[-

						   Clone pages                   

						-]*/var pages = $('.pages');
							if(pages){
								pages.clone().insertAfter(list);
							}
					}
				}
			}/*[-

			   // Location

-]*/
function locations(solveLocations) {
	if (solveLocations && solveLocations.length > 0) {
		$('#locations')
			.append(
					$('<p></p>').addClass('breaker').text('Select Location')
			).append(
					$('<ul></ul>').attr('id','solveLocations').addClass('c3')
			);
		$.each(solveLocations, function(index, value) {
			$('<li></li>').append(
							'<a href="#">' + value.name + '</a>'
			).appendTo($('#solveLocations'));
		});
		$('#solveLocations a').on('click', function(e) {
			e.preventDefault();
			$('#location').val(this.text);
			$('#searchForm').submit();
		});
	} else
		alert('Impossible to find a location');
	$('#solveLocations a').on('click',
			function(e) {
				e.preventDefault();
				$('#location').val(this.text);
			$('#searchForm').submit();
});
}
	function trim(text) {
		if (text) {
			text = $.trim(text);
		}
		return text;
	}
	$('.brand').on('click', function(){
		location.reload();
	});

	function setBgColor(){
		if(!$('#main').hasClass("bg-wt")){
			$('#main').addClass("bg-wt")
		}
		if(!$('#categories').hasClass('navbar-default')){
			$('#categories').addClass('navbar-default')
		}
		if(!$('#brand').hasClass('text-muted')){
			$('#brand').addClass('text-muted');
		}
		
	}
	/*]]>*/
	</script>
</html>