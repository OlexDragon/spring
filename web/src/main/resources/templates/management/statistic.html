<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	lang="en">
<head>
<meta charset="UTF-8"/>
<title>Statistic</title>
<th:block th:replace="search :: headContent">
	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../static/favicon.ico" th:href="@{/favicon.ico}" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
	<link rel="stylesheet" href="../static/css/general_static.css" th:href="@{/css/general.css}" />
	<link rel="stylesheet" href="../static/css/normalize.css" th:href="@{/css/normalize.css}" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</th:block>
</head>
<body th:with="searchFormPath=${'/management/users'}, managementMenu=${true}, menuSelection=${T(jk.web.controllers.user.FormsController.MenuSelection).STATISTIC}">
	<nav th:replace="management/categories :: managementMenu"></nav>
	<div class="container-fluid">
		<div role="tabpanel"><!--/*

		 Nav tabs

*/--> <ul class="nav nav-tabs" role="tablist">
    <li role="presentation" class="active"><a href="#dayTab" aria-controls="dayTab" role="tab" data-toggle="tab">Day</a></li>
    <li role="presentation"><a href="#weekTab" aria-controls="weekTab" role="tab" data-toggle="tab">Week</a></li>
    <li role="presentation"><a href="#yearTab" aria-controls="yearTab" role="tab" data-toggle="tab">Year</a></li>
  </ul>

  <!-- Tab panes -->
  <div class="panel panel-default tab-content">
    <div role="tabpanel" class="tab-pane active" id="dayTab">
    	<table class="table table-striped table-condensed">
    		<thead>
    		<tr>
    			<th>#</th>
    			<th>User ID</th>
    			<th>IP Address</th>
    			<th>Operating System</th>
    			<th>Browser</th>
    			<th>Br. Version</th>
    			<th>URL</th>
    		</tr>
    		</thead>
    		<tr th:each="st,d:${day}">
    			<td th:text="${d.count}">#</td>
    			<td th:text="${st.loginId}">User ID</td>
    			<td th:text="${st.ipAddress.ipAddress}">IP Address</td>
    			<td th:text="${st.userAgent.operatingSystem}">Operating System</td>
    			<td th:text="${st.userAgent.browser}">Browser</td>
    			<td th:text="${st.userAgent.browserVersion!=null ? st.userAgent.browserVersion.version : null}">Br. Version</td>
    			<td><table class="table table-striped table-condensed">
    				<tr th:each="url:${st.statisticRequestUrlEntityList}">
    					<td th:text="${url.requestUrlEntity.requestUrl}">URL</td>
    					<td th:text="${url.times}">count</td>
    					<td th:text="${#calendars.format(url.accessTime, 'HH:mm:ss')}">time</td>
    				</tr>
    			</table></td>
    		</tr>
    	</table>
    </div>
    <div role="tabpanel" class="tab-pane" id="weekTab">
    	<table class="table table-striped table-condensed">
    		<thead>
    		<tr>
    			<th>#</th>
    			<th>User ID</th>
    			<th>IP Address</th>
    			<th>Operating System</th>
    			<th>Browser</th>
    			<th>Br. Version</th>
    			<th>URL</th>
    		</tr>
    		</thead>
    		<tr th:each="st,d:${week}">
    			<td th:text="${d.count}">#</td>
    			<td th:text="${st.loginId}">User ID</td>
    			<td th:text="${st.ipAddress.ipAddress}">IP Address</td>
    			<td th:text="${st.userAgent.operatingSystem}">Operating System</td>
    			<td th:text="${st.userAgent.browser}">Browser</td>
    			<td th:text="${st.userAgent.browserVersion!=null ? st.userAgent.browserVersion.version : null}">Br. Version</td>
    			<td><table class="table table-striped table-condensed">
    				<tr th:each="url:${st.statisticRequestUrlEntityList}">
    					<td th:text="${url.requestUrlEntity.requestUrl}">URL</td>
    					<td th:text="${url.times}">count</td>
    					<td th:text="${#calendars.format(url.accessTime, 'dd MMMM yyyy HH:mm')}">time</td>
    				</tr>
    			</table></td>
    		</tr>
    	</table>
    </div>
    <div role="tabpanel" class="tab-pane" id="yearTab">
    	<table class="table table-striped table-condensed">
    		<thead>
    		<tr>
    			<th>#</th>
    			<th>User ID</th>
    			<th>IP Address</th>
    			<th>Operating System</th>
    			<th>Browser</th>
    			<th>Br. Version</th>
    			<th>URL</th>
    		</tr>
    		</thead>
    		<tr th:each="st,d:${year}">
    			<td th:text="${d.count}">#</td>
    			<td th:text="${st.loginId}">User ID</td>
    			<td th:text="${st.ipAddress.ipAddress}">IP Address</td>
    			<td th:text="${st.userAgent.operatingSystem}">Operating System</td>
    			<td th:text="${st.userAgent.browser}">Browser</td>
    			<td th:text="${st.userAgent.browserVersion!=null ? st.userAgent.browserVersion.version : null}">Br. Version</td>
    			<td><table class="table table-striped table-condensed">
    				<tr th:each="url:${st.statisticRequestUrlEntityList}">
    					<td th:text="${url.requestUrlEntity.requestUrl}">URL</td>
    					<td th:text="${url.times}">count</td>
    					<td th:text="${#calendars.format(url.accessTime, 'dd MMMM yyyy HH:mm')}">time</td>
    				</tr>
    			</table></td>
    		</tr>
    	</table>
    </div>
  </div>

</div>	</div>
	<footer th:replace="search :: footer"></footer>
</body>
</html>